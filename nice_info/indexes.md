Все виды индексов в PostgreSQL

Индексы в PostgreSQL ускоряют операции поиска, сортировки и фильтрации данных. PostgreSQL поддерживает различные типы индексов, которые можно выбрать в зависимости от задачи. Вот полный список индексов и их особенности.
1. B-Tree (Balanced Tree)
Описание:

    Самый распространённый тип индекса. Используется по умолчанию, если тип индекса не указан.
    Эффективен для операций:
        Равенство (=).
        Сравнения (<, <=, >, >=).
        BETWEEN, ORDER BY.

Особенности:

    Хорошо подходит для диапазонных запросов.
    Поддерживает уникальные индексы.

Пример:

CREATE INDEX idx_btree ON my_table(my_column);

2. Hash Index
Описание:

    Используется для операций точного сравнения (=).
    Работает быстрее, чем B-Tree для поиска по равенству, но не поддерживает сравнения или диапазоны.

Особенности:

    Не поддерживает сортировку.
    Ограничено только запросами с точным равенством.

Пример:

CREATE INDEX idx_hash ON my_table USING hash(my_column);

3. GiST (Generalized Search Tree)
Описание:

    Обобщённый тип индекса, который поддерживает работу с различными структурами данных.
    Эффективен для:
        Поиска по пространственным данным (география, геометрия).
        Текстового поиска.
        Поиска по диапазонам (например, OVERLAPS).

Используется для:

    Полнотекстового поиска.
    Индексации геометрических объектов (PostGIS).

Пример:

CREATE INDEX idx_gist ON my_table USING gist(geometry_column);



GIN (Generalized Inverted Index)
Описание:

    Подходит для поиска по массивам, JSONB, hstore и полнотекстового поиска.
    Эффективен для индексации:
        Множественных значений (например, массивов).
        Текстовых данных (например, полное вхождение слова).

Пример:

CREATE INDEX idx_gin ON my_table USING gin(text_column);





Тип данных	Операции	        GIN	                    GiST
Текст	Полнотекстовый поиск	Быстрее           	Гибче, но медленнее


Критерий	            GIN	                                                                       GiST
Скорость вставки данных	Медленнее (индекс строится для каждого значения в документе или массиве).	Быстрее (обрабатывает диапазоны или группы значений).


GIST более гибок